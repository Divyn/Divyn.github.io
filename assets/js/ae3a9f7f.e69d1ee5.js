"use strict";(self.webpackChunkdivyasshree_portfolio=self.webpackChunkdivyasshree_portfolio||[]).push([[7627],{4921:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Personal_Blog/Kubernetes/EditingaProd","title":"Edit a POD","description":"Remember, you CANNOT edit specifications of an existing POD other than the fields below:","source":"@site/docs/Personal_Blog/Kubernetes/EditingaProd.md","sourceDirName":"Personal_Blog/Kubernetes","slug":"/Personal_Blog/Kubernetes/EditingaProd","permalink":"/docs/Personal_Blog/Kubernetes/EditingaProd","draft":false,"unlisted":false,"editUrl":"https://github.com/divyn/divyn.github.io/edit/main/docs/Personal_Blog/Kubernetes/EditingaProd.md","tags":[{"inline":true,"label":"Kubernetes","permalink":"/docs/tags/kubernetes"},{"inline":true,"label":"Editing","permalink":"/docs/tags/editing"},{"inline":true,"label":"Pods","permalink":"/docs/tags/pods"}],"version":"current","frontMatter":{"layout":"post","title":"Edit a POD","parent":"Kubernetes","date":"2025-03-07T00:00:00.000Z","categories":["Kubernetes","Pods"],"tags":["Kubernetes","Editing","Pods"]},"sidebar":"tutorialSidebar","previous":{"title":"Basic Commands","permalink":"/docs/Personal_Blog/Kubernetes/BasicCommandsOverview"},"next":{"title":"Microservices","permalink":"/docs/Personal_Blog/Kubernetes/MultiContainerPods"}}');var s=t(4848),r=t(8453);const o={layout:"post",title:"Edit a POD",parent:"Kubernetes",date:new Date("2025-03-07T00:00:00.000Z"),categories:["Kubernetes","Pods"],tags:["Kubernetes","Editing","Pods"]},d="Edit a POD",l={},c=[{value:"<strong>Option 1: <code>kubectl edit pod</code> Command</strong>",id:"option-1-kubectl-edit-pod-command",level:2},{value:"<strong>Option 2: Extract, Edit &amp; Recreate the Pod</strong>",id:"option-2-extract-edit--recreate-the-pod",level:2},{value:"<strong>Editing Deployments</strong>",id:"editing-deployments",level:2},{value:"<strong>Final Notes</strong>",id:"final-notes",level:3}];function a(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"edit-a-pod",children:"Edit a POD"})}),"\n",(0,s.jsxs)(n.p,{children:["Remember, you ",(0,s.jsx)(n.strong,{children:"CANNOT"})," edit specifications of an existing ",(0,s.jsx)(n.strong,{children:"POD"})," other than the fields below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"spec.containers[*].image\nspec.initContainers[*].image\nspec.activeDeadlineSeconds\nspec.tolerations\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For example, you ",(0,s.jsx)(n.strong,{children:"cannot"})," edit the ",(0,s.jsx)(n.strong,{children:"environment variables, service accounts, resource limits"})," (all of which we will discuss later) of a running pod. However, if you really need to, you have two options:"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"option-1-kubectl-edit-pod-command",children:(0,s.jsxs)(n.strong,{children:["Option 1: ",(0,s.jsx)(n.code,{children:"kubectl edit pod"})," Command"]})}),"\n",(0,s.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"kubectl edit pod <pod-name>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will open the ",(0,s.jsx)(n.strong,{children:"pod specification"})," in an editor (",(0,s.jsx)(n.strong,{children:"vi editor"})," by default).",(0,s.jsx)(n.br,{}),"\n","Edit the required properties, but when you try to save, you ",(0,s.jsx)(n.strong,{children:"will be denied"})," because some fields are ",(0,s.jsx)(n.strong,{children:"immutable"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["However, a ",(0,s.jsx)(n.strong,{children:"copy of the edited file"})," is saved in a temporary location."]}),"\n",(0,s.jsxs)(n.p,{children:["You can then ",(0,s.jsx)(n.strong,{children:"delete the existing pod"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"kubectl delete pod webapp\n"})}),"\n",(0,s.jsxs)(n.p,{children:["And create a ",(0,s.jsx)(n.strong,{children:"new pod"})," using the temporary file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"kubectl create -f /tmp/kubectl-edit-ccvrq.yaml\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"option-2-extract-edit--recreate-the-pod",children:(0,s.jsx)(n.strong,{children:"Option 2: Extract, Edit & Recreate the Pod"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Extract the pod definition in ",(0,s.jsx)(n.strong,{children:"YAML format"})," to a file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"kubectl get pod webapp -o yaml > my-new-pod.yaml\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Open the extracted file in a text editor:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"vi my-new-pod.yaml\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Make the required changes and ",(0,s.jsx)(n.strong,{children:"save the file"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Delete the existing pod:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"kubectl delete pod webapp\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Recreate the ",(0,s.jsx)(n.strong,{children:"new pod"})," with the edited YAML file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"kubectl create -f my-new-pod.yaml\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"editing-deployments",children:(0,s.jsx)(n.strong,{children:"Editing Deployments"})}),"\n",(0,s.jsxs)(n.p,{children:["With ",(0,s.jsx)(n.strong,{children:"Deployments"}),", you can ",(0,s.jsx)(n.strong,{children:"easily"})," edit any field/property of the ",(0,s.jsx)(n.strong,{children:"POD template"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Since the pod template is a ",(0,s.jsx)(n.strong,{children:"child of the deployment specification"}),", every change automatically ",(0,s.jsx)(n.strong,{children:"deletes the old pod and creates a new one"})," with the updated changes."]}),"\n",(0,s.jsxs)(n.p,{children:["If you need to edit a property of a POD ",(0,s.jsx)(n.strong,{children:"within a deployment"}),", simply run:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"kubectl edit deployment my-deployment\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will open the ",(0,s.jsx)(n.strong,{children:"deployment specification"})," in an editor where you can make the required changes. After saving, the ",(0,s.jsx)(n.strong,{children:"Deployment Controller"})," will ",(0,s.jsx)(n.strong,{children:"update the pods"})," accordingly."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"final-notes",children:(0,s.jsx)(n.strong,{children:"Final Notes"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"You cannot edit a running pod directly"})," (except for specific fields)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"For Deployments, the pod template updates automatically"})," when you edit the Deployment."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["This method ensures ",(0,s.jsx)(n.strong,{children:"zero downtime"})," and keeps your Kubernetes cluster running smoothly! \ud83d\ude80"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"Thanks for reading! If you have any questions, feel free to leave a comment."})," \ud83c\udfaf"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);